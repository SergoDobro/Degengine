# Создание карт для DangerousD

Игра поддерживает только тайловые карты, сделанные в [Tiled](https://www.mapeditor.org/). В нем много удобных функций, поэтому советую после гайда прочитать [официальную документацию](https://doc.mapeditor.org/en/stable/).

# Создание проекта

Создание проекта, тайлсетов и карты подробно описано [**тут**](https://doc.mapeditor.org/en/stable/manual/introduction/).

Несколько важных моментов:

1. В файле проекта хранятся только относительные пути к файлам. Чтобы не переделывать зависимости, все файлы лучше сразу хранить в отдельной диркетории или в папке Content.
2. Сейчас игра поддерживает только:
    1. ортогональные карты в CSV формате с не embedded тайлсетами,
    2. тайлсеты `Based on tileset image`.
    
    Другие работать не будут
    

# MapObjects

Разные игровые объекты нужно размещать на отдельных слоях тайлов. В свойство `Class`  указывается название относительно `GameCore.GameObjects.MapObjects`(Platform / Tile / StopTile).

![Untitled](%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%B0%D1%80%D1%82%20%D0%B4%D0%BB%D1%8F%20DangerousD%2004f797dbb8d547299663aac9d1bef40e/Untitled.png)

# Сущности

Сущности задаются [объектами](https://doc.mapeditor.org/en/stable/manual/objects/). По аналогии с `MapObjects`, тип сущности прописывается в поле `Class` относительно `GameCore.GameObjects` у слоя, но теперь складывается с этим свойством у объекта.

Например, у слоя можно указать `LivingEntities.Monsters`, а у объектов внутри: `Werewolf` или `Zombie`, а можно написать все в каком-то одном.

> Моба удобнее всего задавать точкой(хоткей `I`). Ее координата - левый нижний угол хитбокса.
> 

> Стартовая позиция игрока задается здесь как сущность `Player`.
> 

# Двери

Двери немного отличаются от мобов так как обладают свойствами и сущности и тайла.

После выбора текстурки двери из отдельного тайлсета(объект можно делать только из одного тайла), нажмите на `insert tile`(хоткей `T`).

![Untitled](%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%B0%D1%80%D1%82%20%D0%B4%D0%BB%D1%8F%20DangerousD%2004f797dbb8d547299663aac9d1bef40e/Untitled%201.png)

> Перемещать с привязкой к сетке - `ctrl`.
> 

> Открытая дверь - фон.
> 

### Только для `TeleportingDoor`:

- Для перемещения на новый уровень обязательно свойство(пкм → add property) `level` типа `string` с названием файла уровня.
- Для премещения между дверьми - свойство `destination` типа `object`. Далее нажать на кнопку с курсором и на целевой объект.

![Untitled](%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%B0%D1%80%D1%82%20%D0%B4%D0%BB%D1%8F%20DangerousD%2004f797dbb8d547299663aac9d1bef40e/Untitled%202.png)

![Untitled](%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%B0%D1%80%D1%82%20%D0%B4%D0%BB%D1%8F%20DangerousD%2004f797dbb8d547299663aac9d1bef40e/Untitled%203.png)